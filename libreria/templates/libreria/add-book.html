{% extends 'libreria/common.html'%}

{% block content %}

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <table>
        <td>
            <table>
                <tr>
                    <p>
                        <td>
                            <img src="../../static/libreria/libro.png" border="0" alt="logolibro" width="100" height="100" margin-left: 5%>
                        </td>
                    </p>
                </tr>
                <tr>
                    <p>
                        <td>
                            <label for="id_book_id">ISBN:</label>
                        </td>
                        <td>
                            <input type="text" name="book_id" maxlength="13" required="" id="id_book_id" value="{{ libro.book_id }}">
                        </td>
                    </p>
                </tr>
                <tr>
                    <p>
                        <td>
                            <label for="id_image">Image:</label>
                        </td>
                        <td>
                            <div class="dropzone" id="dropzone">
                                Drag & Drop an image here or click to upload
                                <input type="file" name="image" accept="image/*" required="" id="id_image" style="display: none;">
                                <div class="file-path" id="filePath"></div>
                                <br>
                            </div>
                            
                        </td>
                    </p>
                </tr>
                <tr>
                    <p>
                        <td>
                            <label for="id_title">Title:</label>
                        </td>
                        <td>
                            <input type="text" name="title" maxlength="40" required="" id="id_title" value="{{ libro.title }}">
                        </td>
                    </p>
                </tr>
                
                <tr>
                    <p>
                        <td>
                            <label for="id_author">Author:</label>
                        </td>
                        <td>
                            <input type="text" name="author" maxlength="40" required="" id="id_author" value="{{ libro.author }}">
                        </td>
                    </p>
                </tr>
                
                <tr>
                    <p>
                        <td>
                            <label for="id_is_borrowed">Is borrowed:</label>
                        </td>
                        <td>
                            <input type="checkbox" name="is_borrowed" id="id_is_borrowed" {% if libro.is_borrowed %}checked{% endif %}>
                        </td>
                    </p>
                </tr>
                
                <tr>
                    <p>
                        <td>
                            <label for="id_is_expired">Is expired:</label>
                        </td>
                        <td>
                            <input type="checkbox" name="is_expired" id="id_is_expired" {% if libro.is_expired %}checked{% endif %}>
                        </td>
                    </p>
                </tr>
                <tr>
                    <td>
                        <center>
                        <button type="submit" class="btn btn-dark">Salva</button>
                        </center>
                    </td>
                </tr>   
            </table>
        </td><td></td><td>
            {% if libro.image %}
                <img src="{{ libro.image.url }}" class="card-img-top" alt="..." style=" object-fit: contain; height:70%; min-width:18rem;" >
            {% endif %}
        </td>

    </table>
</form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

{% endblock %}

